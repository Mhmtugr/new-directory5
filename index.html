<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MehmetEndüstriyelTakip - Orta Gerilim Hücre Üretim Takip Sistemi</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e40af">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
    
    <!-- Firebase CDN Bağlantıları -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-analytics-compat.js"></script>
    
    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyAFQdnF6RGFuQmrtjB3rCo_fkoQNk0QPJ4",
            authDomain: "mehmentendustriyeltakip.firebaseapp.com",
            projectId: "mehmentendustriyeltakip",
            storageBucket: "mehmentendustriyeltakip.appspot.com",
            messagingSenderId: "100391457932",
            appId: "1:100391457932:web:0fe2f9aab2835220a56466",
            measurementId: "G-L4TMML2WR2"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        
        // Service Worker Kaydı
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('Service Worker başarıyla kaydedildi:', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker kaydı başarısız:', error);
                    });
            });
        }
    </script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
        }
        
        .sidebar {
            background-color: var(--primary-color);
            color: white;
            height: 100vh;
            position: fixed;
            padding-top: 20px;
            width: 250px; /* Sabit genişlik eklendi */
        }
        
        .sidebar .nav-link {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 5px;
            border-radius: 5px;
            padding: 10px 15px;
        }
        
        .sidebar .nav-link:hover, .sidebar .nav-link.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .sidebar .nav-link i {
            margin-right: 10px;
        }
        
        .main-content {
            margin-left: 250px;
            padding: 20px;
        }
        
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background-color: white;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            font-weight: 600;
        }
        
        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-planned {
            background-color: #e3f2fd;
            color: #1976d2;
        }
        
        .status-in-progress {
            background-color: #fff8e1;
            color: #ff8f00;
        }
        
        .status-delayed {
            background-color: #ffebee;
            color: #d32f2f;
        }
        
        .status-completed {
            background-color: #e8f5e9;
            color: #388e3c;
        }
        
        .priority-high {
            border-left: 4px solid var(--danger-color);
        }
        
        .priority-medium {
            border-left: 4px solid var(--warning-color);
        }
        
        .priority-low {
            border-left: 4px solid var(--success-color);
        }
        
        .ai-chatbot {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .ai-chatbot-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .ai-chatbot-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger-color);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .progress-thin {
            height: 5px;
        }
        
        .custom-table th {
            background-color: var(--light-color);
            font-weight: 600;
        }
        
        .material-required {
            background-color: #fff3e0;
        }
        
        .material-available {
            background-color: #e8f5e9;
        }
        
        .material-critical {
            background-color: #ffebee;
        }
        
        /* Gantt chart styles */
        .gantt-container {
            font-size: 12px;
        }
        
        .gantt-header {
            font-weight: bold;
        }
        
        .gantt-day {
            border: 1px solid #dee2e6;
            padding: 2px;
        }
        
        .gantt-row {
            height: 30px;
            display: flex;
            align-items: center;
        }
        
        .gantt-bar {
            height: 20px;
            border-radius: 3px;
            position: absolute;
            top: 5px;
        }
        
        /* Chat modal styles */
        .chat-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            max-width: 80%;
        }
        
        .user-message {
            background-color: #e3f2fd;
            margin-left: auto;
        }
        
        .ai-message {
            background-color: #f1f1f1;
            margin-right: auto;
        }
        
        /* Responsive adjustments */
        @media (max-width: 992px) {
            .sidebar {
                width: 220px;
            }
            .main-content {
                margin-left: 220px;
            }
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }
            .main-content {
                margin-left: 0;
            }
        }
    </style>
    <link rel="stylesheet" href="core/styles/main.css">
    <link rel="stylesheet" href="core/styles/responsive.css">
    <link rel="stylesheet" href="components/styles/components.css">
    <link rel="stylesheet" href="modules/ai/styles/chatbot.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar col-md-3 col-lg-2 d-md-block">
        <div class="text-center mb-4">
            <h4>MehmetEndüstriyelTakip</h4>
            <p class="text-muted small">Orta Gerilim Hücre Üretim Takip</p>
        </div>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link active" href="#dashboard" data-bs-toggle="tab">
                    <i class="bi bi-speedometer2"></i> Genel Bakış
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#orders" data-bs-toggle="tab">
                    <i class="bi bi-file-earmark-text"></i> Siparişler
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#production" data-bs-toggle="tab">
                    <i class="bi bi-gear"></i> Üretim Takip
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#materials" data-bs-toggle="tab">
                    <i class="bi bi-box-seam"></i> Malzeme Yönetimi
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#planning" data-bs-toggle="tab">
                    <i class="bi bi-calendar-check"></i> Planlama
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#reports" data-bs-toggle="tab">
                    <i class="bi bi-graph-up"></i> Raporlar & Analizler
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#technical" data-bs-toggle="tab">
                    <i class="bi bi-file-earmark-code"></i> Teknik Dokümanlar
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#settings" data-bs-toggle="tab">
                    <i class="bi bi-sliders"></i> Ayarlar
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#help" data-bs-toggle="tab">
                    <i class="bi bi-question-circle"></i> Yardım & Destek
                </a>
            </li>
        </ul>
        <div class="mt-auto p-3 text-center text-muted small">
            <p>v1.0.0</p>
            <p> 2023 MehmetEndüstriyel</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="mb-0">Orta Gerilim Hücre Üretim Takip Sistemi</h2>
            <div class="dropdown">
                <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-person-circle"></i> Yönetici
                </button>
                <ul class="dropdown-menu" aria-labelledby="userDropdown">
                    <li><a class="dropdown-item" href="#"><i class="bi bi-person"></i> Profil</a></li>
                    <li><a class="dropdown-item" href="#"><i class="bi bi-gear"></i> Ayarlar</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#"><i class="bi bi-box-arrow-right"></i> Çıkış Yap</a></li>
                </ul>
            </div>
        </div>

        <div class="tab-content">
            <!-- Dashboard Tab -->
            <div class="tab-pane fade show active page" id="dashboard-page">
                <!-- Dashboard içeriği -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="text-muted mb-2">Aktif Siparişler</h6>
                                        <h3 class="mb-0">24</h3>
                                    </div>
                                    <div class="bg-primary bg-opacity-10 p-3 rounded">
                                        <i class="bi bi-file-earmark-text text-primary" style="font-size: 1.5rem;"></i>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <span class="text-success"><i class="bi bi-arrow-up"></i> 5.2%</span>
                                    <span class="text-muted">geçen aya göre</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="text-muted mb-2">Devam Eden Üretim</h6>
                                        <h3 class="mb-0">18</h3>
                                    </div>
                                    <div class="bg-warning bg-opacity-10 p-3 rounded">
                                        <i class="bi bi-gear text-warning" style="font-size: 1.5rem;"></i>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <span class="text-danger"><i class="bi bi-arrow-down"></i> 2.1%</span>
                                    <span class="text-muted">geçen aya göre</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="text-muted mb-2">Geciken Siparişler</h6>
                                        <h3 class="mb-0">3</h3>
                                    </div>
                                    <div class="bg-danger bg-opacity-10 p-3 rounded">
                                        <i class="bi bi-exclamation-triangle text-danger" style="font-size: 1.5rem;"></i>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <span class="text-success"><i class="bi bi-arrow-down"></i> 1.8%</span>
                                    <span class="text-muted">geçen aya göre</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="text-muted mb-2">Tamamlanan Siparişler</h6>
                                        <h3 class="mb-0">42</h3>
                                    </div>
                                    <div class="bg-success bg-opacity-10 p-3 rounded">
                                        <i class="bi bi-check-circle text-success" style="font-size: 1.5rem;"></i>
                                    </div>
                                </div>
                                <div class="mt-3">
                                    <span class="text-success"><i class="bi bi-arrow-up"></i> 8.7%</span>
                                    <span class="text-muted">geçen aya göre</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Üretim Durumu</h5>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="productionStatusDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Son 30 Gün
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="productionStatusDropdown">
                                        <li><a class="dropdown-item" href="#">Son 7 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Son 30 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Son 90 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Bu Yıl</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <canvas id="productionChart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Hücre Tipi Dağılımı</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="cellTypeChart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Kritik Malzeme Durumu</h5>
                                <a href="#" class="btn btn-sm btn-outline-primary">Tümünü Gör</a>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Malzeme Kodu</th>
                                                <th>Malzeme Adı</th>
                                                <th>Stok</th>
                                                <th>İhtiyaç</th>
                                                <th>Durum</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="material-critical">
                                                <td>137998%</td>
                                                <td>Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC</td>
                                                <td>2</td>
                                                <td>8</td>
                                                <td><span class="badge bg-danger">Kritik</span></td>
                                            </tr>
                                            <tr class="material-required">
                                                <td>144866%</td>
                                                <td>KAP-80/190-95 Akım Trafosu</td>
                                                <td>3</td>
                                                <td>5</td>
                                                <td><span class="badge bg-warning">Eksik</span></td>
                                            </tr>
                                            <tr class="material-required">
                                                <td>120170%</td>
                                                <td>M480TB/G-027-95.300UN5 Kablo Başlığı</td>
                                                <td>12</td>
                                                <td>15</td>
                                                <td><span class="badge bg-warning">Eksik</span></td>
                                            </tr>
                                            <tr class="material-available">
                                                <td>109367%</td>
                                                <td>582mm Bara</td>
                                                <td>25</td>
                                                <td>18</td>
                                                <td><span class="badge bg-success">Yeterli</span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Son Uyarılar</h5>
                                <a href="#" class="btn btn-sm btn-outline-primary">Tümünü Gör</a>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="#" class="list-group-item list-group-item-action border-danger border-start-0 border-end-0 border-top-0 border-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">Teslim Tarihi Gecikmesi</h6>
                                            <small class="text-danger">1 saat önce</small>
                                        </div>
                                        <p class="mb-1">Sipariş No: #0424-1251 - RM 36 CB hücresinin mekanik montajı gecikiyor.</p>
                                        <small class="text-muted">Mekanik Üretim Birimi</small>
                                    </a>
                                    <a href="#" class="list-group-item list-group-item-action border-warning border-start-0 border-end-0 border-top-0 border-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">Malzeme Eksikliği</h6>
                                            <small class="text-warning">3 saat önce</small>
                                        </div>
                                        <p class="mb-1">Sipariş No: #0424-1245 için gerekli akım trafosu stokta yok.</p>
                                        <small class="text-muted">Satın Alma Birimi</small>
                                    </a>
                                    <a href="#" class="list-group-item list-group-item-action border-success border-start-0 border-end-0 border-top-0 border-3">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">Sorun Çözüldü</h6>
                                            <small class="text-success">5 saat önce</small>
                                        </div>
                                        <p class="mb-1">Sipariş No: #0424-1239 için kablaj problemi çözüldü.</p>
                                        <small class="text-muted">Kablaj Birimi</small>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Orders Tab -->
            <div class="tab-pane fade page" id="orders-page">
                <div class="d-flex justify-content-between align-items-center mb-3 page-header">
                    <h4 class="mb-0">Sipariş Yönetimi</h4>
                    <div>
                        <button class="btn btn-primary" onclick="showCreateOrderModal()">
                            <i class="bi bi-plus-circle"></i> Yeni Sipariş Oluştur
                        </button>
                        <button class="btn btn-outline-secondary ms-2" onclick="refreshData()">
                            <i class="bi bi-arrow-clockwise"></i> Yenile
                        </button>
                    </div>
                </div>
                <!-- Sipariş Filtreleri -->
                <div class="card mb-3">
                    <div class="card-body d-flex flex-wrap gap-2 filter-item">
                        <input type="text" class="form-control search-input" placeholder="Sipariş No, Müşteri veya Tip Ara..." style="flex-basis: 300px;">
                        <select class="form-select" style="width: auto;">
                            <option value="">Tüm Durumlar</option>
                            <option value="planning">Planlama</option>
                            <option value="production">Üretimde</option>
                            <option value="waiting">Beklemede</option>
                            <option value="delayed">Gecikmiş</option>
                            <option value="completed">Tamamlandı</option>
                        </select>
                         <select class="form-select" style="width: auto;">
                            <option value="">Tüm Tipler</option>
                            <option value="RM 36 CB">RM 36 CB</option>
                            <option value="RM 36 LB">RM 36 LB</option>
                            <option value="RM 36 FL">RM 36 FL</option>
                            <option value="RMU">RMU</option>
                        </select>
                        <input type="date" class="form-control" style="width: auto;" title="Başlangıç Tarihi">
                        <input type="date" class="form-control" style="width: auto;" title="Bitiş Tarihi">
                        <button class="btn btn-outline-secondary">Filtrele</button>
                    </div>
                </div>
                <!-- Sipariş Listesi (Dinamik olarak doldurulacak) -->
                <div id="order-list-container">
                    <!-- Örnek Sipariş Kartı (Referans için) -->
                    <!-- 
                    <div class="card mb-3 order-card priority-medium">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3">
                                    <h6 class="mb-1">24-03-A001</h6>
                                    <small class="text-muted">AYEDAŞ</small>
                                </div>
                                <div class="col-md-3">
                                    <span class="fw-bold">RM 36 LB</span> (3 adet)
                                </div>
                                <div class="col-md-2">
                                    <span class="status-badge status-in-progress">Üretimde</span>
                                </div>
                                <div class="col-md-3">
                                    <div class="progress progress-thin" title="%65 tamamlandı">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 65%;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <small class="text-muted">Teslimat: 15.04.2024</small>
                                </div>
                                <div class="col-md-1 text-end">
                                     <span class="position-relative">
                                        <i class="bi bi-exclamation-circle-fill text-warning" title="1 Yeni Not/Uyarı"></i>
                                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning">1</span> 
                                    </span>
                                    <button class="btn btn-sm btn-outline-secondary ms-2" onclick="showOrderDetails('order-1')"><i class="bi bi-pencil"></i></button>
                                </div>
                            </div>
                        </div>
                    </div> 
                    -->
                </div> 
                <!-- Sipariş Listesi Sonu -->
            </div>
            
            <!-- Production Tab -->
            <div class="tab-pane fade page" id="production-page">
                <!-- Üretim içeriği -->
                <div class="row">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Üretim Takip Tablosu</h5>
                                <div class="btn-group">
                                    <button class="btn btn-sm btn-outline-secondary">Günlük</button>
                                    <button class="btn btn-sm btn-outline-secondary active">Haftalık</button>
                                    <button class="btn btn-sm btn-outline-secondary">Aylık</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th>Sipariş No</th>
                                                <th>Hücre Tipi</th>
                                                <th>Proje</th>
                                                <th>Elektrik Tasarım</th>
                                                <th>Mekanik Tasarım</th>
                                                <th>Satın Alma</th>
                                                <th>Mekanik Üretim</th>
                                                <th>İç Montaj</th>
                                                <th>Kablaj</th>
                                                <th>Genel Montaj</th>
                                                <th>Test</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>#0424-1251</td>
                                                <td>RM 36 CB</td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-warning"><i class="bi bi-exclamation-triangle"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                            </tr>
                                            <tr>
                                                <td>#0424-1245</td>
                                                <td>RM 36 CB</td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-warning"><i class="bi bi-exclamation-triangle"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                            </tr>
                                            <tr>
                                                <td>#0424-1239</td>
                                                <td>RM 36 LB</td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                            </tr>
                                            <tr>
                                                <td>#0424-1235</td>
                                                <td>RM 36 FL</td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-success"><i class="bi bi-check"></i></span></td>
                                                <td><span class="badge bg-warning"><i class="bi bi-exclamation-triangle"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                                <td><span class="badge bg-secondary"><i class="bi bi-dash"></i></span></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Üretim Gantt Şeması</h5>
                            </div>
                            <div class="card-body">
                                <div style="height: 400px; overflow-y: auto;">
                                    <div class="gantt-container">
                                        <div class="gantt-header d-flex mb-2">
                                            <div style="width: 120px;"></div>
                                            <div class="d-flex flex-grow-1">
                                                <div class="gantt-day text-center" style="width: 30px;">Pzt</div>
                                                <div class="gantt-day text-center" style="width: 30px;">Sal</div>
                                                <div class="gantt-day text-center" style="width: 30px;">Çar</div>
                                                <div class="gantt-day text-center" style="width: 30px;">Per</div>
                                                <div class="gantt-day text-center" style="width: 30px;">Cum</div>
                                                <div class="gantt-day text-center" style="width: 30px;">Cmt</div>
                                                <div class="gantt-day text-center" style="width: 30px;">Paz</div>
                                            </div>
                                        </div>
                                        <div class="gantt-row mb-2">
                                            <div style="width: 120px; font-size: 12px;">#0424-1251</div>
                                            <div class="d-flex flex-grow-1 position-relative">
                                                <div class="gantt-bar bg-danger" style="left: 90px; width: 120px;">Mekanik Üretim</div>
                                            </div>
                                        </div>
                                        <div class="gantt-row mb-2">
                                            <div style="width: 120px; font-size: 12px;">#0424-1245</div>
                                            <div class="d-flex flex-grow-1 position-relative">
                                                <div class="gantt-bar bg-warning" style="left: 60px; width: 60px;">Satın Alma</div>
                                            </div>
                                        </div>
                                        <div class="gantt-row mb-2">
                                            <div style="width: 120px; font-size: 12px;">#0424-1239</div>
                                            <div class="d-flex flex-grow-1 position-relative">
                                                <div class="gantt-bar bg-success" style="left: 30px; width: 30px;">Mekanik Tasarım</div>
                                            </div>
                                        </div>
                                        <div class="gantt-row mb-2">
                                            <div style="width: 120px; font-size: 12px;">#0424-1235</div>
                                            <div class="d-flex flex-grow-1 position-relative">
                                                <div class="gantt-bar bg-primary" style="left: 0px; width: 30px;">Elektrik Tasarım</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Birim Bazlı Üretim Takibi</h5>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="unitDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Tüm Birimler
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="unitDropdown">
                                        <li><a class="dropdown-item" href="#">Elektrik Tasarım</a></li>
                                        <li><a class="dropdown-item" href="#">Mekanik Tasarım</a></li>
                                        <li><a class="dropdown-item" href="#">Satın Alma</a></li>
                                        <li><a class="dropdown-item" href="#">Mekanik Üretim</a></li>
                                        <li><a class="dropdown-item" href="#">İç Montaj</a></li>
                                        <li><a class="dropdown-item" href="#">Kablaj</a></li>
                                        <li><a class="dropdown-item" href="#">Genel Montaj</a></li>
                                        <li><a class="dropdown-item" href="#">Test</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="card mb-3">
                                            <div class="card-body text-center">
                                                <h6 class="card-title">Elektrik Tasarım</h6>
                                                <div class="d-flex justify-content-between align-items-center mt-3">
                                                    <div>
                                                        <h3 class="mb-0">4</h3>
                                                        <small class="text-muted">Toplam İş</small>
                                                    </div>
                                                    <div>
                                                        <h3 class="mb-0">2</h3>
                                                        <small class="text-muted">Devam Eden</small>
                                                    </div>
                                                    <div>
                                                        <h3 class="mb-0">2</h3>
                                                        <small class="text-muted">Tamamlanan</small>
                                                    </div>
                                                </div>
                                                <div class="progress mt-3">
                                                    <div class="progress-bar bg-success" role="progressbar" style="width: 50%"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card mb-3">
                                            <div class="card-body text-center">
                                                <h6 class="card-title">Mekanik Tasarım</h6>
                                                <div class="d-flex justify-content-between align-items-center mt-3">
                                                    <div>
                                                        <h3 class="mb-0">4</h3>
                                                        <small class="text-muted">Toplam İş</small>
                                                    </div>
                                                    <div>
                                                        <h3 class="mb-0">1</h3>
                                                        <small class="text-muted">Devam Eden</small>
                                                    </div>
                                                    <div>
                                                        <h3 class="mb-0">3</h3>
                                                        <small class="text-muted">Tamamlanan</small>
                                                    </div>
                                                </div>
                                                <div class="progress mt-3">
                                                    <div class="progress-bar bg-success" role="progressbar" style="width: 75%"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card mb-3">
                                            <div class="card-body text-center">
                                                <h6 class="card-title">Satın Alma</h6>
                                                <div class="d-flex justify-content-between align-items-center mt-3">
                                                    <div>
                                                        <h3 class="mb-0">4</h3>
                                                        <small class="text-muted">Toplam İş</small>
                                                    </div>
                                                    <div>
                                                        <h3 class="mb-0">1</h3>
                                                        <small class="text-muted">Devam Eden</small>
                                                    </div>
                                                    <div>
                                                        <h3 class="mb-0">3</h3>
                                                        <small class="text-muted">Tamamlanan</small>
                                                    </div>
                                                </div>
                                                <div class="progress mt-3">
                                                    <div class="progress-bar bg-warning" role="progressbar" style="width: 75%"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="card mb-3">
                                            <div class="card-body text-center">
                                                <h6 class="card-title">Mekanik Üretim</h6>
                                                <div class="d-flex justify-content-between align-items-center mt-3">
                                                    <div>
                                                        <h3 class="mb-0">4</h3>
                                                        <small class="text-muted">Toplam İş</small>
                                                    </div>
                                                    <div>
                                                        <h3 class="mb-0">1</h3>
                                                        <small class="text-muted">Devam Eden</small>
                                                    </div>
                                                    <div>
                                                        <h3 class="mb-0">3</h3>
                                                        <small class="text-muted">Tamamlanan</small>
                                                    </div>
                                                </div>
                                                <div class="progress mt-3">
                                                    <div class="progress-bar bg-danger" role="progressbar" style="width: 25%"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Materials Tab -->
            <div class="tab-pane fade" id="materials">
                <div class="row">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Malzeme Yönetimi</h5>
                                <div class="btn-group">
                                    <button class="btn btn-sm btn-outline-secondary">Tümü</button>
                                    <button class="btn btn-sm btn-outline-secondary">Stokta Olanlar</button>
                                    <button class="btn btn-sm btn-outline-secondary active">Kritik Stok</button>
                                    <button class="btn btn-sm btn-outline-secondary">Sipariş Bekleyenler</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Malzeme Kodu</th>
                                                <th>Malzeme Adı</th>
                                                <th>Stok Miktarı</th>
                                                <th>Minimum Stok</th>
                                                <th>Tedarik Süresi</th>
                                                <th>Son Sipariş Tarihi</th>
                                                <th>Durum</th>
                                                <th>İşlemler</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="material-critical">
                                                <td>137998%</td>
                                                <td>Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC</td>
                                                <td>2</td>
                                                <td>5</td>
                                                <td>15 gün</td>
                                                <td>10.10.2024</td>
                                                <td><span class="badge bg-danger">Kritik</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">Sipariş Ekle</button>
                                                </td>
                                            </tr>
                                            <tr class="material-required">
                                                <td>144866%</td>
                                                <td>KAP-80/190-95 Akım Trafosu</td>
                                                <td>3</td>
                                                <td>5</td>
                                                <td>10 gün</td>
                                                <td>15.10.2024</td>
                                                <td><span class="badge bg-warning">Düşük</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">Sipariş Ekle</button>
                                                </td>
                                            </tr>
                                            <tr class="material-required">
                                                <td>120170%</td>
                                                <td>M480TB/G-027-95.300UN5 Kablo Başlığı</td>
                                                <td>12</td>
                                                <td>15</td>
                                                <td>7 gün</td>
                                                <td>20.10.2024</td>
                                                <td><span class="badge bg-warning">Düşük</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-primary">Sipariş Ekle</button>
                                                </td>
                                            </tr>
                                            <tr class="material-available">
                                                <td>109367%</td>
                                                <td>582mm Bara</td>
                                                <td>25</td>
                                                <td>10</td>
                                                <td>5 gün</td>
                                                <td>05.10.2024</td>
                                                <td><span class="badge bg-success">Yeterli</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-secondary">Detay</button>
                                                </td>
                                            </tr>
                                            <tr class="material-available">
                                                <td>109363%</td>
                                                <td>432mm Bara</td>
                                                <td>18</td>
                                                <td>10</td>
                                                <td>5 gün</td>
                                                <td>05.10.2024</td>
                                                <td><span class="badge bg-success">Yeterli</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-secondary">Detay</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Malzeme Tahminleri</h5>
                            </div>
                            <div class="card-body">
                                <canvas id="materialForecastChart" height="300"></canvas>
                            </div>
                        </div>
                        <div class="card mt-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Son Siparişler</h5>
                                <a href="#" class="btn btn-sm btn-outline-primary">Tümü</a>
                            </div>
                            <div class="card-body">
                                <div class="list-group">
                                    <a href="#" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">#PO-2024-1025</h6>
                                            <small class="text-muted">2 gün önce</small>
                                        </div>
                                        <p class="mb-1">Siemens 7SR1003-1JA20-2DA0+ZY20 24VDC</p>
                                        <small class="text-muted">Miktar: 5, Tahmini Teslim: 25.11.2024</small>
                                    </a>
                                    <a href="#" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">#PO-2024-1024</h6>
                                            <small class="text-muted">5 gün önce</small>
                                        </div>
                                        <p class="mb-1">KAP-80/190-95 Akım Trafosu</p>
                                        <small class="text-muted">Miktar: 3, Tahmini Teslim: 20.11.2024</small>
                                    </a>
                                    <a href="#" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">#PO-2024-1023</h6>
                                            <small class="text-muted">1 hafta önce</small>
                                        </div>
                                        <p class="mb-1">M480TB/G-027-95.300UN5 Kablo Başlığı</p>
                                        <small class="text-muted">Miktar: 10, Tahmini Teslim: 15.11.2024</small>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Planning Tab -->
            <div class="tab-pane fade" id="planning">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Üretim Planlama</h5>
                                <div class="btn-group">
                                    <button class="btn btn-sm btn-outline-secondary">Günlük</button>
                                    <button class="btn btn-sm btn-outline-secondary active">Haftalık</button>
                                    <button class="btn btn-sm btn-outline-secondary">Aylık</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="productionCalendar"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Kapasite Planlama</h5>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="capacityDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Tüm Birimler
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="capacityDropdown">
                                        <li><a class="dropdown-item" href="#">Elektrik Tasarım</a></li>
                                        <li><a class="dropdown-item" href="#">Mekanik Tasarım</a></li>
                                        <li><a class="dropdown-item" href="#">Satın Alma</a></li>
                                        <li><a class="dropdown-item" href="#">Mekanik Üretim</a></li>
                                        <li><a class="dropdown-item" href="#">İç Montaj</a></li>
                                        <li><a class="dropdown-item" href="#">Kablaj</a></li>
                                        <li><a class="dropdown-item" href="#">Genel Montaj</a></li>
                                        <li><a class="dropdown-item" href="#">Test</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <canvas id="capacityChart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Teslimat Tahminleri</h5>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="deliveryDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Son 30 Gün
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="deliveryDropdown">
                                        <li><a class="dropdown-item" href="#">Son 7 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Son 30 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Son 90 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Bu Yıl</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <canvas id="deliveryChart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div class="tab-pane fade" id="reports">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Raporlar ve Analizler</h5>
                                <div class="dropdown">
                                    <button class="btn btn-primary dropdown-toggle" type="button" id="reportsDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bi bi-download"></i> Rapor Al
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="reportsDropdown">
                                        <li><a class="dropdown-item" href="#">Üretim Raporu</a></li>
                                        <li><a class="dropdown-item" href="#">Malzeme Raporu</a></li>
                                        <li><a class="dropdown-item" href="#">Gecikme Raporu</a></li>
                                        <li><a class="dropdown-item" href="#">Verimlilik Raporu</a></li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item" href="#">Özel Rapor Oluştur</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card mb-4">
                                            <div class="card-header">
                                                <h6 class="mb-0">Üretim Verimliliği</h6>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="efficiencyChart" height="250"></canvas>
                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card-header">
                                                <h6 class="mb-0">Gecikme Nedenleri</h6>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="delayChart" height="250"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card mb-4">
                                            <div class="card-header">
                                                <h6 class="mb-0">Birim Bazlı Çalışma Süreleri</h6>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="unitTimeChart" height="250"></canvas>
                                            </div>
                                        </div>
                                        <div class="card">
                                            <div class="card-header">
                                                <h6 class="mb-0">Müşteri Bazlı Siparişler</h6>
                                            </div>
                                            <div class="card-body">
                                                <canvas id="customerChart" height="250"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Technical Tab -->
            <div class="tab-pane fade" id="technical">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Teknik Dokümanlar</h5>
                                <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#uploadDocumentModal">
                                    <i class="bi bi-upload"></i> Yükle
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" placeholder="Doküman ara...">
                                    <button class="btn btn-outline-secondary" type="button">
                                        <i class="bi bi-search"></i>
                                    </button>
                                </div>
                                <div class="list-group">
                                    <a href="#" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">RM 36 CB Teknik Çizim</h6>
                                            <small class="text-muted">15.10.2024</small>
                                        </div>
                                        <p class="mb-1">Rev. 2.1 - Son güncelleme: Ahmet Yılmaz</p>
                                        <small class="text-muted">Elektrik Tasarım</small>
                                    </a>
                                    <a href="#" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">RM 36 LB Montaj Talimatı</h6>
                                            <small class="text-muted">10.10.2024</small>
                                        </div>
                                        <p class="mb-1">Rev. 1.3 - Son güncelleme: Mehmet Demir</p>
                                        <small class="text-muted">Mekanik Tasarım</small>
                                    </a>
                                    <a href="#" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">RM 36 FL Test Prosedürü</h6>
                                            <small class="text-muted">05.10.2024</small>
                                        </div>
                                        <p class="mb-1">Rev. 3.0 - Son güncelleme: Ayşe Kaya</p>
                                        <small class="text-muted">Test Birimi</small>
                                    </a>
                                    <a href="#" class="list-group-item list-group-item-action">
                                        <div class="d-flex w-100 justify-content-between">
                                            <h6 class="mb-1">RMU Kablaj Şeması</h6>
                                            <small class="text-muted">01.10.2024</small>
                                        </div>
                                        <p class="mb-1">Rev. 1.5 - Son güncelleme: Fatma Şahin</p>
                                        <small class="text-muted">Kablaj Birimi</small>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Teknik Sorgulama</h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="technicalQuestion" class="form-label">Teknik sorunuzu yazın:</label>
                                    <textarea class="form-control" id="technicalQuestion" rows="3" placeholder="Örneğin: RM 36 CB hücresinde hangi akım trafosu kullanılır?"></textarea>
                                </div>
                                <button class="btn btn-primary">Sorgula</button>
                                <hr>
                                <div class="alert alert-info">
                                    <h6><i class="bi bi-lightbulb"></i> Yapay Zeka Cevabı:</h6>
                                    <p>RM 36 CB hücresinde genellikle 200-400/5-5A 5P20 7,5/15VA veya 300-600/5-5A 5P20 7,5/15VA özelliklerinde toroidal tip akım trafoları kullanılmaktadır. Canias kodları: 144866% (KAP-80/190-95) veya 142227% (KAT-85/190-95).</p>
                                    <p class="mb-0">Referans doküman: <a href="#">RM 36 CB Teknik Şartnamesi Rev.2.1</a></p>
                                </div>
                                <div class="mt-3">
                                    <h6>İlgili Dokümanlar:</h6>
                                    <ul>
                                        <li><a href="#">RM 36 CB Teknik Çizim</a> - Rev.2.1</li>
                                        <li><a href="#">Akım Trafosu Seçim Kılavuzu</a> - Rev.1.3</li>
                                        <li><a href="#">TEDAS-MLZ-2020-069 Teknik Şartname</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div class="tab-pane fade" id="settings">
                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Sistem Ayarları</h5>
                            </div>
                            <div class="card-body">
                                <form>
                                    <div class="mb-3">
                                        <label for="companyName" class="form-label">Şirket Adı</label>
                                        <input type="text" class="form-control" id="companyName" value="Mehmet Endüstriyel">
                                    </div>
                                    <div class="mb-3">
                                        <label for="timezone" class="form-label">Zaman Dilimi</label>
                                        <select class="form-select" id="timezone">
                                            <option selected>(UTC+03:00) İstanbul</option>
                                            <option>(UTC+01:00) Berlin</option>
                                            <option>(UTC+00:00) Londra</option>
                                            <option>(UTC-05:00) New York</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="dateFormat" class="form-label">Tarih Formatı</label>
                                        <select class="form-select" id="dateFormat">
                                            <option selected>DD.MM.YYYY (24.11.2024)</option>
                                            <option>MM/DD/YYYY (11/24/2024)</option>
                                            <option>YYYY-MM-DD (2024-11-24)</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">ERP Entegrasyonu</label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="erpIntegration" checked>
                                            <label class="form-check-label" for="erpIntegration">
                                                Canias ERP ile entegrasyon aktif
                                            </label>
                                        </div>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Ayarları Kaydet</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Kullanıcı Yönetimi</h5>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead>
                                            <tr>
                                                <th>Ad Soyad</th>
                                                <th>Departman</th>
                                                <th>Rol</th>
                                                <th>Durum</th>
                                                <th>İşlem</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Ahmet Yılmaz</td>
                                                <td>Elektrik Tasarım</td>
                                                <td>Yönetici</td>
                                                <td><span class="badge bg-success">Aktif</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Mehmet Demir</td>
                                                <td>Mekanik Tasarım</td>
                                                <td>Kullanıcı</td>
                                                <td><span class="badge bg-success">Aktif</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Ayşe Kaya</td>
                                                <td>Test</td>
                                                <td>Kullanıcı</td>
                                                <td><span class="badge bg-success">Aktif</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Fatma Şahin</td>
                                                <td>Kablaj</td>
                                                <td>Kullanıcı</td>
                                                <td><span class="badge bg-secondary">Pasif</span></td>
                                                <td>
                                                    <button class="btn btn-sm btn-outline-secondary"><i class="bi bi-pencil"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <button class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#addUserModal">
                                    <i class="bi bi-plus"></i> Yeni Kullanıcı Ekle
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Yapay Zeka Ayarları</h5>
                            </div>
                            <div class="card-body">
                                <form>
                                    <div class="mb-3">
                                        <label class="form-label">Yapay Zeka Modülleri</label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="aiProduction" checked>
                                            <label class="form-check-label" for="aiProduction">
                                                Üretim Tahmini Modülü
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="aiMaterial" checked>
                                            <label class="form-check-label" for="aiMaterial">
                                                Malzeme Tahmini Modülü
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="aiTechnical" checked>
                                            <label class="form-check-label" for="aiTechnical">
                                                Teknik Destek Modülü
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="aiAnalysis">
                                            <label class="form-check-label" for="aiAnalysis">
                                                Analiz Modülü (Deneysel)
                                            </label>
                                        </div>
                                    </div>
                                    <div class="mb-3">
                                        <label for="aiModel" class="form-label">Model Seçimi</label>
                                        <select class="form-select" id="aiModel">
                                            <option selected>GPT-4 (OpenAI)</option>
                                            <option>GPT-3.5 Turbo (OpenAI)</option>
                                            <option>DeepSeek (Yerel Model)</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="apiKey" class="form-label">API Anahtarı</label>
                                        <input type="password" class="form-control" id="apiKey" placeholder="sk-...">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Eğitim Verileri</label>
                                        <div class="form-text mb-2">Sistemin öğrenmesi için teknik dokümanları yükleyin:</div>
                                        <input type="file" class="form-control" multiple>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Ayarları Kaydet</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stock/Inventory Tab -->
            <div class="tab-pane fade page" id="stock-page">
                <!-- Malzeme Yönetimi içeriği buraya gelecek -->
                <h4>Malzeme Yönetimi (Stok)</h4>
                <p>Stok durumu, kritik seviyeler ve malzeme detayları burada görüntülenecek.</p>
                <div id="stock-list-container"></div>
            </div>
            
             <!-- Purchasing Tab -->
            <div class="tab-pane fade page" id="purchasing-page">
                <div class="d-flex justify-content-between align-items-center mb-3 page-header">
                    <h4 class="mb-0">Satın Alma Yönetimi</h4>
                    <div>
                        <!-- Belki manuel talep ekleme butonu? -->
                        <!-- <button class="btn btn-primary" onclick="showCreatePurchaseRequestModal()">
                            <i class="bi bi-plus-circle"></i> Yeni Talep Oluştur
                        </button> -->
                        <button class="btn btn-outline-secondary ms-2" onclick="refreshPurchaseData()"> 
                            <i class="bi bi-arrow-clockwise"></i> Yenile
                        </button>
                    </div>
                </div>
                
                 <!-- Filtreler (Gerekirse) -->
                 <div class="card mb-3">
                    <div class="card-body d-flex flex-wrap gap-2 filter-item">
                        <input type="text" class="form-control search-input" placeholder="Malzeme Kodu, Adı veya Sipariş No Ara..." style="flex-basis: 300px;">
                        <select class="form-select" style="width: auto;">
                            <option value="">Tüm Durumlar</option>
                            <option value="pending">Beklemede</option>
                            <option value="ordered">Sipariş Edildi</option>
                            <option value="shipped">Yolda</option>
                            <option value="received">Teslim Alındı</option>
                            <option value="delayed">Gecikmiş</option>
                        </select>
                        <input type="date" class="form-control" style="width: auto;" title="Talep Başlangıç Tarihi">
                        <input type="date" class="form-control" style="width: auto;" title="Talep Bitiş Tarihi">
                        <button class="btn btn-outline-secondary">Filtrele</button>
                    </div>
                </div>

                <!-- Satın Alma Talepleri / Eksik Malzemeler Tablosu -->
                <div class="card">
                    <div class="card-header">
                        Açık Satın Alma Talepleri / Eksik Malzemeler
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover" id="purchase-requests-table">
                                <thead class="table-light">
                                    <tr>
                                        <th>Malzeme Kodu</th>
                                        <th>Malzeme Adı</th>
                                        <th>Eksik Miktar</th>
                                        <th>İlgili Sipariş No</th>
                                        <th>Talep Tarihi</th>
                                        <th>Tedarikçi</th>
                                        <th>Beklenen Teslim</th>
                                        <th>Durum</th>
                                        <th>İşlemler</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Talepler/Malzemeler dinamik olarak buraya yüklenecek -->
                                    <tr><td colspan="9" class="text-center p-5">Yükleniyor...</td></tr> 
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Planning Tab -->
            <div class="tab-pane fade page" id="planning-page">
                <!-- Planlama içeriği buraya gelecek -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Üretim Planlama</h5>
                                <div class="btn-group">
                                    <button class="btn btn-sm btn-outline-secondary">Günlük</button>
                                    <button class="btn btn-sm btn-outline-secondary active">Haftalık</button>
                                    <button class="btn btn-sm btn-outline-secondary">Aylık</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div id="productionCalendar"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Kapasite Planlama</h5>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="capacityDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Tüm Birimler
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="capacityDropdown">
                                        <li><a class="dropdown-item" href="#">Elektrik Tasarım</a></li>
                                        <li><a class="dropdown-item" href="#">Mekanik Tasarım</a></li>
                                        <li><a class="dropdown-item" href="#">Satın Alma</a></li>
                                        <li><a class="dropdown-item" href="#">Mekanik Üretim</a></li>
                                        <li><a class="dropdown-item" href="#">İç Montaj</a></li>
                                        <li><a class="dropdown-item" href="#">Kablaj</a></li>
                                        <li><a class="dropdown-item" href="#">Genel Montaj</a></li>
                                        <li><a class="dropdown-item" href="#">Test</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <canvas id="capacityChart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">Teslimat Tahminleri</h5>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="deliveryDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                        Son 30 Gün
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="deliveryDropdown">
                                        <li><a class="dropdown-item" href="#">Son 7 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Son 30 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Son 90 Gün</a></li>
                                        <li><a class="dropdown-item" href="#">Bu Yıl</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <canvas id="deliveryChart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Help Tab -->
            <div class="tab-pane fade" id="help">
                <div id="help-container">
                    <!-- Yardım içeriği buraya dinamik olarak yüklenecek -->
                    <p class="text-center">Yardım içeriği yükleniyor...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Chatbot -->
    <div class="ai-chatbot">
        <button class="ai-chatbot-btn" title="Yapay Zeka Asistanı">
            <i class="fas fa-comment"></i>
        </button>
    </div>

    <!-- Modals -->
    <!-- Sipariş Oluşturma Modalı -->
    <div class="modal fade" id="create-order-modal" tabindex="-1" aria-labelledby="createOrderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <form id="create-order-form">
                    <div class="modal-header">
                        <h5 class="modal-title" id="createOrderModalLabel">Yeni Sipariş Oluştur</h5>
                        <button type="button" class="btn-close modal-close" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="customer" class="form-label">Müşteri</label>
                                <select class="form-select" id="customer" name="customer" required>
                                    <option value="">Yükleniyor...</option>
                                    <!-- Müşteriler dinamik olarak doldurulacak -->
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label for="orderDate" class="form-label">Sipariş Tarihi</label>
                                <input type="date" class="form-control" id="orderDate" name="orderDate" required>
                            </div>
                            <div class="col-md-4">
                                <label for="cellType" class="form-label">Hücre Tipi</label>
                                <select class="form-select" id="cellType" name="cellType" required>
                                    <option value="">Seçiniz...</option>
                                    <option value="RM 36 CB">RM 36 CB (Kesicili)</option>
                                    <option value="RM 36 LB">RM 36 LB (Yük Ayırıcılı)</option>
                                    <option value="RM 36 FL">RM 36 FL (Sigortalı Yük Ayırıcılı)</option>
                                    <option value="RM 36 D">RM 36 D (Ayırıcılı)</option>
                                    <option value="RMU">RMU (Ring Main Unit)</option>
                                    <option value="Diğer">Diğer</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label for="cellCount" class="form-label">Hücre Adedi</label>
                                <input type="number" class="form-control" id="cellCount" name="cellCount" min="1" value="1" required>
                            </div>
                            <div class="col-md-3">
                                <label for="voltage" class="form-label">Gerilim</label>
                                <select class="form-select" id="voltage" name="voltage">
                                    <option value="">Seçiniz...</option>
                                    <option value="36kV">36 kV</option>
                                    <option value="15kV">15 kV</option>
                                    <option value="Diğer">Diğer</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="current" class="form-label">Akım</label>
                                <select class="form-select" id="current" name="current">
                                     <option value="">Seçiniz...</option>
                                     <option value="630A">630 A</option>
                                     <option value="1250A">1250 A</option>
                                     <option value="2000A">2000 A</option>
                                     <option value="Diğer">Diğer</option>
                                </select>
                            </div>
                             <div class="col-md-4">
                                <label for="relayType" class="form-label">Röle Tipi</label>
                                <input type="text" class="form-control" id="relayType" name="relayType" placeholder="Örn: Siemens 7SR1003">
                            </div>
                            <div class="col-md-4">
                                <label for="deliveryDate" class="form-label">İstenen Teslim Tarihi</label>
                                <input type="date" class="form-control" id="deliveryDate" name="deliveryDate">
                            </div>
                            <div class="col-md-4">
                                <label for="status" class="form-label">Durum</label>
                                <select class="form-select" id="status" name="status">
                                    <option value="planning" selected>Planlama</option>
                                    <option value="confirmed">Onaylandı</option>
                                    <option value="waiting">Beklemede</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="description" class="form-label">Açıklama / Teknik Notlar</label>
                                <textarea class="form-control" id="description" name="description" rows="3"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary modal-close">İptal</button>
                        <button type="submit" class="btn btn-primary">Siparişi Kaydet</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Sipariş Detay Modalı -->
    <div class="modal fade" id="order-detail-modal" tabindex="-1" aria-labelledby="orderDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="orderDetailModalLabel">Sipariş Detayı: <span id="modal-order-id"></span></h5>
                    <button type="button" class="btn-close modal-close" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- Düzenleme için form elemanlarını içeren fieldset -->
                    <fieldset id="order-edit-fieldset" disabled>
                        <div id="order-detail-content">
                            <!-- Sipariş detayları buraya yüklenir -->
                            <p class="text-center">Yükleniyor...</p>
                        </div>
                        <!-- Form alanları populateOrderDetailModal tarafından eklenecek veya güncellenecek şekilde tasarlandı -->
                        <!-- Örnek: Status alanı (order-detail-content içinde oluşturuluyor) -->
                        <!-- Örnek: Teslim Tarihi (order-detail-content içinde oluşturuluyor) -->
                        
                        <h6>Açıklama/Notlar:</h6>
                        <textarea class="form-control" id="order-description" rows="3"></textarea>
                    </fieldset>

                    <hr>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Malzeme Durumu</h6>
                            <div id="order-material-status" style="max-height: 200px; overflow-y: auto;">
                                <p class="text-center">Yükleniyor...</p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h6>Sipariş Notları</h6>
                            <div id="order-notes-list" style="max-height: 150px; overflow-y: auto;">
                                <p class="text-center">Yükleniyor...</p>
                            </div>
                            <div class="input-group mt-2">
                                <textarea class="form-control" id="new-order-note" placeholder="Yeni not ekle..." rows="1"></textarea>
                                <button class="btn btn-outline-secondary" type="button" id="add-order-note-btn">Ekle</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer justify-content-between">
                    <div>
                        <!-- Silme veya diğer aksiyonlar buraya eklenebilir -->
                        <!-- <button type="button" class="btn btn-danger">Siparişi Sil</button> -->
                    </div>
                    <div>
                        <button type="button" class="btn btn-secondary modal-close">Kapat</button>
                        <button type="button" class="btn btn-outline-primary" id="edit-order-btn">Düzenle</button>
                        <button type="button" class="btn btn-success d-none" id="save-order-btn">Kaydet</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Yeni Kullanıcı Ekleme Modalı -->
    <div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addUserModalLabel">Yeni Kullanıcı Ekle</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <div class="mb-3">
                            <label for="name" class="form-label">Ad Soyad</label>
                            <input type="text" class="form-control" id="name" placeholder="Ad Soyad">
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" placeholder="Email">
                        </div>
                        <div class="mb-3">
                            <label for="department" class="form-label">Departman</label>
                            <input type="text" class="form-control" id="department" placeholder="Departman">
                        </div>
                        <div class="mb-3">
                            <label for="role" class="form-label">Rol</label>
                            <input type="text" class="form-control" id="role" placeholder="Rol">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Kapat</button>
                    <button type="button" class="btn btn-primary">Kaydet</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Malzeme Detay Modal -->
    <div class="modal fade" id="material-detail-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <!-- Modal içeriği dinamik olarak doldurulacak -->
            </div>
        </div>
    </div>

    <!-- Satın Alma Talebi Detay Modal -->
    <div class="modal fade" id="purchase-request-detail-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <!-- Modal içeriği dinamik olarak doldurulacak -->
            </div>
        </div>
    </div>

    <!-- Tedarikçi Detay Modal -->
    <div class="modal fade" id="supplier-detail-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <!-- Modal içeriği dinamik olarak doldurulacak -->
            </div>
        </div>
    </div>

    <div class="modal fade" id="profile-modal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Profil</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <!-- Modal içeriği dinamik olarak doldurulacak -->
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Kütüphaneleri ve Uygulama Modülleri -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    
    <!-- Firebase SDK (Üstte yüklenmeli) -->
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.19.1/firebase-analytics-compat.js"></script>
    
    <!-- Çekirdek Konfigürasyon (Önce yüklenmeli) -->
    <script src="config/app-config.js"></script>
    
    <!-- Çekirdek Modüller -->
    <script src="core/utils.js"></script>
    <script src="utils/logger.js"></script>
    <script src="utils/event-bus.js"></script>
    <script src="utils/ui.js"></script>
    
    <!-- Firebase ve Veritabanı -->
    <script src="core/firebase-config.js"></script>
    <script src="core/database.js"></script>
    <script src="core/mock-firebase.js"></script>
    
    <!-- Servisler -->
    <script src="services/api-service.js"></script>
    <script src="services/erp-service.js"></script>
    <script src="services/ai-service.js"></script>
    <script src="services/data-service.js"></script>
    
    <!-- Bileşenler -->
    <script src="components/ui-components.js"></script>
    <script src="components/forms.js"></script>
    <script src="components/charts.js"></script>
    
    <!-- Sayfa Modülleri -->
    <script src="modules/dashboard/dashboard.js"></script>
    <script src="modules/orders/orders.js"></script>
    <script src="modules/orders/order-creation.js"></script>
    <script src="modules/production/production.js"></script>
    <script src="modules/materials/materials.js"></script>
    <script src="modules/planning/planning.js"></script>
    <script src="modules/settings/settings.js"></script>
    
    <!-- Yapay Zeka ve Chatbot -->
    <script src="modules/ai/ai-connector.js"></script>
    <script src="modules/ai/advanced-ai.js"></script>
    <script src="modules/ai/ai-integration.js"></script>
    <script src="modules/ai/chatbot.js"></script>
    
    <!-- Ana Uygulama - EN SON yüklenmeli -->
    <script src="core/compat-check.js"></script>
    <script src="core/app.js"></script>
    <script src="core/integration.js"></script>
    <script src="core/main.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log("DOM yüklendi, Firebase'i başlatma...");
            
            // Firebase'i başlat
            if (typeof firebase !== 'undefined' && window.AppConfig && window.AppConfig.firebase) {
                // Firebase zaten başlatılmış mı kontrol et
                if (!firebase.apps || !firebase.apps.length) {
                    firebase.initializeApp(window.AppConfig.firebase);
                    console.log('Firebase başarıyla başlatıldı');
                    
                    // Analytics aktif et
                    if (firebase.analytics) {
                        firebase.analytics();
                    }
                } else {
                    console.log('Firebase zaten başlatılmış');
                }
            } else {
                console.warn('Firebase yapılandırması bulunamadı veya eksik. Demo mod etkinleştirilecek.');
                // Demo modu etkinleştir
                if (window.enableDemoMode && typeof window.enableDemoMode === 'function') {
                    window.enableDemoMode();
                }
            }
            
            // Uygulamayı manuel başlat
            if (window.initApp && typeof window.initApp === 'function') {
                console.log("Uygulama başlatılıyor...");
                window.initApp();
            } else {
                console.error("initApp fonksiyonu bulunamadı!");
            }
        });
    </script>
</body>
</html>